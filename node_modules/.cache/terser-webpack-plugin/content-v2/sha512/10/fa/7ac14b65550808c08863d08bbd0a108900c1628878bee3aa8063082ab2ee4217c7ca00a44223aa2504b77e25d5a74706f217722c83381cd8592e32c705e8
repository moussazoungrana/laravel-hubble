{"map":{"version":3,"sources":["select-edit-select-field-vue.js"],"names":["window","push","0","module","__webpack_exports__","__webpack_require__","normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","exports","d","20","r","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","InfiniteScroll","listener","instance","Constructor","TypeError","_classCallCheck","assign","threshold","element","document","documentElement","handler","handlerFunc","bind","observe","protoProps","staticProps","value","event","elem","oldHeight","parseInt","getAttribute","height","scrollHeight","scrollTop","clientHeight","setAttribute","isEqualNode","addEventListener","prototype","ClickOutside_defineProperties","ClickOutside","ClickOutside_classCallCheck","handle","contains","removeEventListener","select_edit_select_fieldvue_type_script_lang_js_","name","data","realOptions","page","dropdownOpened","searchTimer","searchValue","inputValue","currentIndex","lockSearch","tags","field","type","required","formData","default","Array","String","valueKey","textKey","multiple","Boolean","placeholder","emptyOptionName","computed","wrapper","$refs","methods","openDropdown","_this","$nextTick","close","fetchOptions","_this2","url","$axios","get","then","res","onKeydown","keyboardEvent","keyCode","preventDefault","option","select","scrollToOption","index","direction","arguments","undefined","li","querySelector","rect","getBoundingClientRect","wrapperHeight","offsetTop","scrollTo","left","top","behavior","onSearch","_this3","query","values","map","tag","item","find","opt","clearTimeout","includes","setTimeout","search","isArray","_this4","toLowerCase","filter","removeAttribute","_this5","findIndex","splice","$emit","empty","removeTag","_this6","t","watch","_this7","created","mounted","_this8","componentNormalizer","component","_vm","_h","$createElement","_c","_self","staticClass","_e","ref","attrs","id","autocomplete","on","click","$event","stopPropagation","keyup","keydown","focus","_v","directives","rawName","expression","domProps","_l","_s","viewBox","xmlns","val","k","refInFor","class","open","hover"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{0:function(t,e,n){\"use strict\";function i(t,e,n,i,o,s,r,a){var l,u=\"function\"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),s&&(u._scopeId=\"data-v-\"+s),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=l):o&&(l=a?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:u}}n.d(e,\"a\",(function(){return i}))},20:function(t,e,n){\"use strict\";n.r(e);function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.listener=e,this.options=Object.assign({threshold:400,element:document.documentElement},n),this.handler=this.handlerFunc.bind(this),this.observe()}var e,n,o;return e=t,(n=[{key:\"handlerFunc\",value:function(t){var e=this.options.element,n=parseInt(e.getAttribute(\"data-infinite-height\")||0),i=e.scrollHeight-this.options.threshold;i>n&&e.scrollTop+e.clientHeight>=i&&(this.listener(),e.setAttribute(\"data-infinite-height\",i))}},{key:\"observe\",value:function(){(this.options.element.isEqualNode(document.documentElement)?window:this.options.element).addEventListener(\"scroll\",this.handler)}}])&&i(e.prototype,n),o&&i(e,o),t}();function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),this.element=e,this.handler=n,this.handle=this.handle.bind(this),document.addEventListener(\"click\",this.handle)}var e,n,i;return e=t,(n=[{key:\"handle\",value:function(t){this.element.contains(t.target)||(this.handler(),document.removeEventListener(\"click\",this.handle))}}])&&s(e.prototype,n),i&&s(e,i),t}(),a={name:\"edit-select-field\",data:function(){return{realOptions:[],page:1,dropdownOpened:!1,searchTimer:null,searchValue:null,inputValue:null,currentIndex:-1,lockSearch:!1,tags:[]}},props:{field:{type:Object,required:!0},formData:{type:Object,default:function(){return{}}},value:{default:null},options:{required:!0,type:[Array,String]},valueKey:{required:!0,type:String},textKey:{required:!0,type:String},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:null},emptyOptionName:{type:String,default:null}},computed:{wrapper:function(){return this.$refs.optionsContent}},methods:{openDropdown:function(){var t=this;this.dropdownOpened||(this.dropdownOpened=!0,this.$nextTick((function(){new r(t.$refs.optionsContent,(function(){t.close()}))})))},fetchOptions:function(){var t=this,e=\"\".concat(this.options,\"?page=\").concat(this.page);this.searchValue&&(e+=\"&search=\"+this.searchValue),this.$axios.get(e).then((function(e){1!==t.page?t.realOptions=t.realOptions.concat(e.data.data):t.realOptions=e.data.data}))},onKeydown:function(t){if(13===t.keyCode){if(t.preventDefault(),this.currentIndex<=-1)return;var e=this.realOptions[this.currentIndex];return this.lockSearch=!0,void this.select(e)}40!==t.keyCode?38!==t.keyCode?9!==t.keyCode&&27!==t.keyCode||this.close():this.currentIndex-1>-1&&(this.currentIndex-=1,this.scrollToOption(this.currentIndex,\"prev\")):this.realOptions.length>this.currentIndex+1&&(this.currentIndex+=1,this.scrollToOption(this.currentIndex))},scrollToOption:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"next\",n=this.wrapper.querySelector(\"#custom--select--option-\".concat(t));if(n){var i=n.getBoundingClientRect(),o=this.wrapper.getBoundingClientRect().height;\"next\"===e?n.offsetTop+i.height>o+this.wrapper.scrollTop&&this.wrapper.scrollTo({left:0,top:n.offsetTop+i.height-o,behavior:\"smooth\"}):n.offsetTop<this.wrapper.scrollTop&&this.wrapper.scrollTo({left:0,top:n.offsetTop,behavior:\"smooth\"})}},close:function(){this.dropdownOpened=!1},onSearch:function(t){var e=this,n=t.target.value,i=[];if(this.multiple)i=this.tags.map((function(t){return t[e.textKey]}));else{var o=this.realOptions.find((function(t){return t[e.valueKey]===e.inputValue}));o&&(i=[o[this.textKey]])}clearTimeout(this.searchTimer),n===this.searchValue||i.includes(n)&&-1!==this.currentIndex||(this.searchTimer=setTimeout((function(){e.search(n)}),Array.isArray(this.options)?0:500))},search:function(t){var e=this;t=String(t).toLowerCase(),this.searchValue=t,Array.isArray(this.options)?(t||(this.realOptions=this.options),this.realOptions=this.options.filter((function(n){return String(n[e.textKey]).toLowerCase().includes(t)}))):(1===this.page&&this.fetchOptions(),this.page=1,this.$refs.optionsContent.removeAttribute(\"data-infinite-height\"))},select:function(t){var e=this;if(this.multiple){var n=this.tags,i=n.findIndex((function(n){return n[e.valueKey]===t[e.valueKey]}));return-1===i?n.push(t):n.splice(i,1),this.tags=n,void this.$emit(\"input\",this.tags)}this.inputValue=t[this.valueKey],this.$emit(\"input\",t),this.dropdownOpened=!1},empty:function(){if(this.multiple)return this.tags=[],this.dropdownOpened=!1,void this.$emit(\"input\",[]);this.inputValue=null,this.$emit(\"input\",null),this.dropdownOpened=!1},removeTag:function(t){var e=this,n=this.tags.findIndex((function(n){return n[e.valueKey]===t[e.valueKey]}));-1!==n&&this.tags.splice(n,1)}},watch:{page:function(){this.fetchOptions()},inputValue:function(t){var e=this;t||this.$refs.textInput.removeAttribute(\"value\");var n=this.realOptions.find((function(n){return n[e.valueKey]===t}));this.$refs.textInput.value=n?n[this.textKey]:null}},created:function(){Array.isArray(this.options)?this.realOptions=this.options:this.fetchOptions(),this.multiple?this.tags=this.value:this.inputValue=this.value},mounted:function(){var t=this;this.$nextTick((function(){new o((function(){t.page=t.page+1}),{element:t.$refs.optionsContent,threshold:30})}))}},l=n(0),u=Object(l.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"custom--select--container\"},[t.multiple?t._e():[n(\"input\",{ref:\"textInput\",attrs:{type:\"text\",placeholder:t.placeholder,id:t.field.name,autocomplete:\"off\"},on:{click:function(t){t.stopPropagation()},keyup:t.onSearch,keydown:t.onKeydown,focus:t.openDropdown}}),t._v(\" \"),n(\"input\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],ref:\"input\",attrs:{name:t.field.name},domProps:{value:t.inputValue}})],t._v(\" \"),t.multiple?[n(\"div\",{staticClass:\"tags--wrapper\",on:{click:function(e){return e.stopPropagation(),t.openDropdown(e)}}},[t._l(t.tags,(function(e,i){return n(\"div\",{staticClass:\"tag\",on:{click:function(n){return n.stopPropagation(),t.removeTag(e)}}},[n(\"span\",[t._v(t._s(e[t.textKey]))]),t._v(\" \"),n(\"div\",{staticClass:\"remove\"},[n(\"svg\",{attrs:{viewBox:\"0 0 14 14\",xmlns:\"http://www.w3.org/2000/svg\"}},[n(\"path\",{attrs:{d:\"M8.40994 7L12.7099 2.71C12.8982 2.5217 13.004 2.2663 13.004 2C13.004 1.7337 12.8982 1.47831 12.7099 1.29C12.5216 1.1017 12.2662 0.995911 11.9999 0.995911C11.7336 0.995911 11.4782 1.1017 11.2899 1.29L6.99994 5.59L2.70994 1.29C2.52164 1.1017 2.26624 0.995911 1.99994 0.995911C1.73364 0.995911 1.47824 1.1017 1.28994 1.29C1.10164 1.47831 0.995847 1.7337 0.995847 2C0.995847 2.2663 1.10164 2.5217 1.28994 2.71L5.58994 7L1.28994 11.29C1.19621 11.383 1.12182 11.4936 1.07105 11.6154C1.02028 11.7373 0.994141 11.868 0.994141 12C0.994141 12.132 1.02028 12.2627 1.07105 12.3846C1.12182 12.5064 1.19621 12.617 1.28994 12.71C1.3829 12.8037 1.4935 12.8781 1.61536 12.9289C1.73722 12.9797 1.86793 13.0058 1.99994 13.0058C2.13195 13.0058 2.26266 12.9797 2.38452 12.9289C2.50638 12.8781 2.61698 12.8037 2.70994 12.71L6.99994 8.41L11.2899 12.71C11.3829 12.8037 11.4935 12.8781 11.6154 12.9289C11.7372 12.9797 11.8679 13.0058 11.9999 13.0058C12.132 13.0058 12.2627 12.9797 12.3845 12.9289C12.5064 12.8781 12.617 12.8037 12.7099 12.71C12.8037 12.617 12.8781 12.5064 12.9288 12.3846C12.9796 12.2627 13.0057 12.132 13.0057 12C13.0057 11.868 12.9796 11.7373 12.9288 11.6154C12.8781 11.4936 12.8037 11.383 12.7099 11.29L8.40994 7Z\"}})])])])})),t._v(\" \"),n(\"input\",{attrs:{type:\"text\",id:t.field.name,placeholder:t.placeholder},on:{click:function(t){t.stopPropagation()},keyup:t.onSearch,keydown:t.onKeydown,focus:t.openDropdown}})],2),t._v(\" \"),t._l(t.tags,(function(e,i){return n(\"input\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],key:i,ref:\"input\",refInFor:!0,attrs:{name:t.field.name+\"[]\"},domProps:{value:e[t.valueKey]}})}))]:t._e(),t._v(\" \"),n(\"ul\",{ref:\"optionsContent\",staticClass:\"custom--select--content\",class:{open:t.dropdownOpened}},[n(\"li\",{on:{click:t.empty}},[t._v(t._s(t.emptyOptionName))]),t._v(\" \"),t._l(t.realOptions,(function(e,i){return n(\"li\",{key:\"custom--option-\"+e[t.valueKey],class:{hover:t.currentIndex===i},attrs:{id:\"custom--select--option-\"+i},on:{click:function(n){return t.select(e)}}},[t._v(\"\\n            \"+t._s(e[t.textKey])+\"\\n        \")])}))],2)],2)}),[],!1,null,\"01290e81\",null);e.default=u.exports}}]);","extractedComments":[]}